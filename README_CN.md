# tscale_sequence

## 介绍

这个数列我自己做游戏的时候遇到需求的时候意外发现的，我不是搞数学的，有什么问题希望大家多多指教。

定义一种新的数列，为t刻度数列(t-scale-sequence)。它衡量了一些连续性因素之间的关系。下面是它的一个例子。

> 假设刻度t代表为年份，a表示为某年出生的人口。通过当前的t我们可以推断出a的年龄段。
>
> 假如说每个年龄的人口对出生人口的影响都是一个固定的系数，比如说32岁的人对下一年出生人口的影响系数是0.1，假设现在32岁有100人，那么下一年出生人口会被影响为多10人。
>
> 我们通过t刻度数列，可以用影响系数来大概评估上一年的人口出生率和下一年人口出生率之间的关系。
>
> 当年份趋于无穷大(实际上只要稍微过几年年份就有明显的比，不需要趋于无穷大)的时候，上一年出生的人数和今年出生的人数会有一个明显的系数比

## 定义

t刻度数列定义很简单，根据定义来看，斐波拉契数列和广义斐波拉契数列都是t刻度数列的一种情况。

#### 公式

给定任意一个序列，之后每次从上一个元素开始，取等同初始序列长度的元素，求它们的和，将这个和作为新的值。

初始序列可以取任意的值。但需要注意后面的新值通过计算不能等于0

所有beta必须满足大于等于0，至少有一个beta大于0。

对于beta都等于1的情况，叫做标准t刻度数组

$$\dim a_1,a_2,..,a_n \quad a\in R$$

$$a_t=\sum_{i=1}^n \beta_{i} a_{t-i} \quad t>n,a_t\not ={0}$$
$$\forall i, \ \beta_i \geq 0 \quad \text{and} \quad \exists i, \ \beta_i > 0$$

#### 性质

无论你取什么初始值，当这个序列长度趋于无穷的时候，上一个元素与当前元素的比值为一个常数值，且这个常数值只受beta影响。

我们可以得到下列的定理

$$\lim_{t \to +\infty} \frac{a_t}{a_{t-1}}= C$$
$$\sum \beta_i > 1 \implies 1 < C < 2$$
$$\sum \beta_i < 1 \implies 0 < C < 1$$
$$\sum \beta_i = 1 \implies C = 1$$

继续推导，令r=C可以得到下面公式

$$\lim_{t \to +\infty} a_t=ra_{t-1} = r^{n} a_{t-n}  $$
$$\because \lim_{t \to +\infty} \frac{a_t}{a_{t-1}}= r$$

$$\therefore \lim_{t \to +\infty} \frac{\sum_{i=1}^n \beta_i r^{n-i} a_{t-n}}{r^{n-1} a_{t-n}}=r$$


在beta=1的情况下化简得到：

$$when \quad \beta =1$$
$$r=2-r^{-n}$$

在beta不为1的情况下化简得到：

$$\lim_{t \to +\infty} \sum_{i=1}^n \beta_i r^{1-i} a_{t-n}=r$$

两种化简均可通过牛顿法解出最终答案